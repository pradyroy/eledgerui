<div *ngIf="router.url === '/home/reports'" class="container mt-2" #widgetParentDiv>

    <div *ngIf="visible" (window:resize)="onResize($event)">
        <div class="input-group space">
            <input matInput class="w-100 inp" id="name" type="text" placeholder="Name Search" [(ngModel)]="customerName"
                aria-label="Search" autofocus>
        </div>
        <div class="input-group space">
            <input class="w-100 inp" id="phone" type="number" placeholder="Number Search" [(ngModel)]="customerPhone"
                aria-label="Search" autofocus>
        </div>
        <div class="space">
            <select id="txnType" class="dropdown-toggle inp selectField btn w-100 sapce" data-toggle="dropdown"
                role="button" aria-haspopup="true" aria-expanded="false">
                <option value="" selected>Select an Option</option>
                <option value="CREDIT">Credit</option>
                <option value="DEBIT">Debit </option>
            </select>
        </div>
        <div class="space text-center">
            <button type="submit" class="btn confirmBtn border border-dark nav-item nav-link-edit" data-toggle="modal"
                data-target="#dateModal">Select
                Date</button>
        </div>
        <div class="space text-center">
            <button (click)='search(); isReset=true' type="submit"
                class="btn confirmBtn border border-dark nav-item nav-link-edit ml-3"><i class="fa fa-search"
                    aria-hidden="true"></i></button>
            <a *ngIf='isReset==true' class="btn-reset" href="" (click)='getListAtStart(); isSearch=false'>Reset</a>
        </div>
    </div>

    <table id="tbl" class="table table-bordered">
        <thead>
            <tr>
                <th>
                    <div class="input-group">
                        <input matInput class="w-100 inp" id="name" type="text" placeholder="Name Search"
                            [(ngModel)]="customerName" aria-label="Search" autofocus>
                    </div>
                </th>
                <th>
                    <div class="input-group">
                        <input class="w-100 inp" id="phone" type="number" placeholder="Number Search"
                            [(ngModel)]="customerPhone" aria-label="Search" autofocus>
                    </div>
                </th>
                <th width="15%"></th>
                <th><select id="txnType" class="dropdown-toggle inp selectField btn w-100" data-toggle="dropdown"
                        role="button" aria-haspopup="true" aria-expanded="false">
                        <option value="" selected>Select an Option</option>
                        <option value="CREDIT">Credit</option>
                        <option value="DEBIT">Debit </option>
                    </select>
                </th>
                <th width="30%" class="text-center">
                    <button type="submit" class="btn text-center confirmBtn border border-dark nav-item nav-link-edit"
                        data-toggle="modal" data-target="#dateModal">Select
                        Date</button>
                    <button (click)='search(); isReset=true' type="submit"
                        class="btn confirmBtn border border-dark nav-item nav-link-edit ml-3"><i class="fa fa-search"
                            aria-hidden="true"></i></button>
                    <a *ngIf='isReset==true' class="btn-reset" href=""
                        (click)='getListAtStart(); isSearch=false'>Reset</a>
                </th>
            </tr>

            <tr>
                <th scope="col">Name</th>
                <th scope="col">Mobile Number</th>
                <th scope="col">Amount</th>
                <th scope="col">Transaction Type</th>
                <th scope="col">Transaction Date</th>
            </tr>
        </thead>
        <tbody *ngIf='isSearch==false'>
            <tr *ngFor='let customer of customers | paginate: { itemsPerPage: 8, currentPage: p }'>
                <td scope="row" data-label="Name">{{customer.name}}</td>
                <td data-label="Mobile Number">{{customer.phone}}</td>
                <td data-label="Amount">{{customer.amount}}</td>
                <td data-label="Transaction Type">{{customer.txnType}}</td>
                <td data-label="Transaction Date">{{customer.date | date:'medium' }}</td>
            </tr>
        </tbody>
        <tbody *ngIf='isSearch==true'>
            <tr *ngFor='let customer of searchedCustomers | paginate: { itemsPerPage: 8, currentPage: p }'>
                <td scope="row" data-label="Name">{{customer.name}}</td>
                <td data-label="Mobile Number">{{customer.phone}}</td>
                <td data-label="Amount">{{customer.amount}}</td>
                <td data-label="Transaction Type">{{customer.txnType}}</td>
                <td data-label="Transaction Date">{{customer.date | date:'medium' }}</td>
            </tr>
        </tbody>
    </table>
    <br>
    <div class="col-sm-12 text-center mobile-sm" style="color: #46afec;">
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
    </div>

    <div class="modal centered" id="dateModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm-12">
            <div class="modal-content">
                <div class="modal-body">
                    <span class="cancel-icon text-left"><a data-dismiss="modal"><strong>x</strong></a></span>
                    <p class="text-center"><strong>Select Start Date and End Date</strong><br /></p>
                    <div class="actionsBtns text-center">
                        <div class="col-sm-12 text-center">
                            <input type="date" id="startDate" name="startDate" value="2012-10-08"
                                placeholder="2012-10-08" class="date inp mobile-margin" [(ngModel)]="startDate"
                                aria-label="Search" autofocus />
                            to <input type="date" id="endDate" name="endDate" value="2012-10-08"
                                placeholder="2012-10-09" class="date inp mobile-margin" [(ngModel)]="endDate"
                                aria-label="Search" autofocus />
                        </div>
                        <br>
                        <div class="text-center">
                            <button class="btn btn-square confirmBtn border border-dark rounded"
                                data-dismiss="modal">Ok</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>